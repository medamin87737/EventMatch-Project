<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.eventmatch_pr.ParticipantController"
            fitToWidth="true"
            fitToHeight="true">
    <VBox spacing="10" style="-fx-background-color: linear-gradient(to bottom, #F5F5F5, #E0E0E0);">
        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>

        <!-- En-t√™te -->
        <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: linear-gradient(to right, #2C3E50, #3498DB); -fx-padding: 15; -fx-background-radius: 5;">
            <Label text="Gestion des Participants" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: white;"/>
            <Pane HBox.hgrow="ALWAYS" />
            <Label text="EventMatch" style="-fx-font-size: 30px; -fx-font-weight: bold; -fx-text-fill: white; -fx-effect: dropshadow(gaussian, #00000055, 2, 0, 0, 2); -fx-padding: 0 10 0 0;"/>
        </HBox>

        <!-- SplitPane pour diviser l'interface -->
        <SplitPane dividerPositions="0.3" VBox.vgrow="ALWAYS">
            <!-- Panneau de gauche (Formulaire) -->
            <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 5; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 5, 0, 0, 0);">
                <Label text="Formulaire" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-padding: 0 0 10 0;"/>
                
                <!-- Formulaire d'ajout/modification -->
                <GridPane vgap="10" hgap="10">
                    <Label text="Nom:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <TextField fx:id="nomField" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                    
                    <Label text="Pr√©nom:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <TextField fx:id="prenomField" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                    
                    <Label text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <TextField fx:id="emailField" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                    
                    <Label text="T√©l√©phone:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <TextField fx:id="telephoneField" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                    
                    <Label text="Date d'inscription:" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                    <DatePicker fx:id="dateInscriptionField" GridPane.columnIndex="1" GridPane.rowIndex="4"/>
                    
                    <Label text="Statut:" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                    <ComboBox fx:id="statutField" GridPane.columnIndex="1" GridPane.rowIndex="5"/>
                    
                    <Label text="Badge ID:" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
                    <TextField fx:id="badgeIdField" GridPane.columnIndex="1" GridPane.rowIndex="6"/>
                    
                    <Label text="Activit√©:" GridPane.columnIndex="0" GridPane.rowIndex="7"/>
                    <ComboBox fx:id="activiteField" GridPane.columnIndex="1" GridPane.rowIndex="7"/>
                </GridPane>

                <!-- Boutons d'action -->
                <HBox spacing="10" alignment="CENTER" style="-fx-padding: 20 0 0 0;">
                    <Button onAction="#handleAjouter" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4px; -fx-cursor: hand;">
                        <text>‚ûï Ajouter</text>
                    </Button>
                    <Button onAction="#handleModifier" style="-fx-background-color: #FF9800; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4px; -fx-cursor: hand;">
                        <text>‚úèÔ∏è Modifier</text>
                    </Button>
                    <Button onAction="#handleSupprimer" style="-fx-background-color: #F44336; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4px; -fx-cursor: hand;">
                        <text>üóëÔ∏è Supprimer</text>
                    </Button>
                </HBox>
            </VBox>

            <!-- Panneau de droite (Tableau et recherche) -->
            <VBox spacing="10">
                <!-- Barre de recherche -->
                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-padding: 10; -fx-background-radius: 5; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 5, 0, 0, 0);">
                    <Label text="Rechercher:" styleClass="label"/>
                    <ComboBox fx:id="searchTypeField" prefWidth="150"/>
                    <TextField fx:id="searchField" prefWidth="200" promptText="Entrez votre recherche..."/>
                    <Button text="üîç" onAction="#handleRechercher" style="-fx-background-color: #9C27B0; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4px; -fx-cursor: hand;"/>
                    <Button text="‚Ü©Ô∏è" onAction="#handleReinitialiser" style="-fx-background-color: #607D8B; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4px; -fx-cursor: hand;"/>
                </HBox>

                <!-- TableView des participants -->
                <TableView fx:id="participantTable" VBox.vgrow="ALWAYS" style="-fx-background-color: white; -fx-background-radius: 5; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 5, 0, 0, 0);">
                    <columns>
                        <TableColumn fx:id="idColumn" text="ID" prefWidth="50"/>
                        <TableColumn fx:id="nomColumn" text="Nom" prefWidth="100"/>
                        <TableColumn fx:id="prenomColumn" text="Pr√©nom" prefWidth="100"/>
                        <TableColumn fx:id="emailColumn" text="Email" prefWidth="150"/>
                        <TableColumn fx:id="telephoneColumn" text="T√©l√©phone" prefWidth="100"/>
                        <TableColumn fx:id="dateInscriptionColumn" text="Date d'inscription" prefWidth="120"/>
                        <TableColumn fx:id="statutColumn" text="Statut" prefWidth="80"/>
                        <TableColumn fx:id="badgeIdColumn" text="Badge ID" prefWidth="80"/>
                        <TableColumn fx:id="activiteColumn" text="Activit√©" prefWidth="100"/>
                    </columns>
                </TableView>
            </VBox>
        </SplitPane>

        <!-- Barre de statut -->
        <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #2C3E50, #3498DB); -fx-padding: 10; -fx-background-radius: 5;">
            <Label fx:id="statusLabel" text="Pr√™t" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
        </HBox>
    </VBox>
</ScrollPane> 